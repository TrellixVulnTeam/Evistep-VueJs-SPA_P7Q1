{"remainingRequest":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user/Desktop/vue-project/vue-spa-app/src/components/UserPage/AddTodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/user/Desktop/vue-project/vue-spa-app/src/components/UserPage/AddTodo.vue","mtime":1612795164758},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0ewogIG5hbWU6ICdBZGRUb2RvJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlck1haWw6ICcnLAogICAgICB0aXRsZTogJycKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG1vdW50ZWQoKSB7CiAgICAgIGxldCB0YXNrcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YXNrc0xpc3QnKTsKICAgICAgaWYgKCF0YXNrcykgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrc0xpc3QnLEpTT04uc3RyaW5naWZ5KFt7InRpdGxlIjoidGl0bGUiLCJ1c2VyTWFpbCI6InVzZXJNYWlsIn1dKSk7CiAgICAgIH0KICAgIH0sCmk+CiAgICBzdWJtaXRJbmZvKCkgewovL3B1dCB0YXNrcyBpbiBhcnJheQogICAgICBsZXQgYWxsVGFza3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YXNrc0xpc3QnKSk7CiAgICAgIGxldCB0YXNrc0FycmF5ID0gW107CiAgICAgIGlmICh0aGlzLnRpdGxlIT09IiIpIHsKICAgICAgICBmb3IgKGxldCBpIGluIGFsbFRhc2tzKQogICAgICAgICAgdGFza3NBcnJheS5wdXNoKGFsbFRhc2tzW2ldKTsKCi8vY2hlY2sgdXNlciBpbiBzdG9yYWdlCiAgICAgICAgICBsZXQgdXNlcmRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdVc2VycycpKTsKICAgICAgICAgIGxldCB1c2VyQXJyYXkgPSBbXTsKICAgICAgICAgIGZvciAobGV0IGkgaW4gdXNlcmRhdGEpIHsKICAgICAgICAgICAgdXNlckFycmF5LnB1c2godXNlcmRhdGFbaV0pOyAvLyBVc2VycwogICAgICAgICAgfQogICAgICAgICAgZm9yIChsZXQgaiBpbiB1c2VyQXJyYXkpIHsKICAgICAgICAgICAgaWYgKHVzZXJBcnJheVtqXVsibWFpbCJdLmluY2x1ZGVzKHRoaXMudXNlck1haWwpICYmIHRoaXMudXNlck1haWwgIT09ICIiKSB7Ci8vQWRkIHRhc2sKICAgICAgICAgICAgICBsZXQgb2JqVGFza3MgPSB7CiAgICAgICAgICAgICAgICAndGFzayc6IHRoaXMudGl0bGUsCiAgICAgICAgICAgICAgICAndXNlck1haWwnOiB0aGlzLnVzZXJNYWlsCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB0YXNrc0FycmF5LnB1c2gob2JqVGFza3MpOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0YXNrc0xpc3QiLCBKU09OLnN0cmluZ2lmeSh0YXNrc0FycmF5KSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coInRhc2sgYWRkZWQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb25TdWJtaXQoKSB7CiAgICAgIGlmICh0aGlzLnRpdGxlLnRyaW0oKSwgdGhpcy51c2VyTWFpbC50cmltKCkpewogICAgICAgIGNvbnN0IG5ld1RvZG8gPSB7CiAgICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgICAgdXNlck1haWw6IHRoaXMudXNlck1haWwsCiAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlCiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKG5ld1RvZG8pCiAgICAgICAgdGhpcy4kZW1pdCgnYWRkLXRvZG8nLCBuZXdUb2RvKQogICAgICAgIHRoaXMudGl0bGU9IiIsCiAgICAgICAgdGhpcy51c2VyTWFpbD0iIgogICAgICB9CiAgICB9LAogICAgcHJvZ3Jlc3MoKXsKCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["AddTodo.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"AddTodo.vue","sourceRoot":"src/components/UserPage","sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n    <input type=\"text\" class=\"form-control\" cc placeholder=\"write a task\">\n    <input type=\"email\" class=\"form-control\" v-model=\"userMail\" placeholder=\"user Email\">\n    <button type=\"submit\"  @click=\"submitInfo()\" class=\"btn btn-success ml-4\">Add Task</button>\n    <button type=\"button\"  @click=\"progress()\" class=\"btn btn-warning ml-4\">\n      <router-link to=\"/UsersProgress\">progress</router-link>\n    </button>\n\n  </form>\n</template>\n\n<script>\nexport default{\n  name: 'AddTodo',\n  data() {\n    return {\n      userMail: '',\n      title: ''\n    }\n  },\n  methods: {\n    mounted() {\n      let tasks = localStorage.getItem('tasksList');\n      if (!tasks) {\n        localStorage.setItem('tasksList',JSON.stringify([{\"title\":\"title\",\"userMail\":\"userMail\"}]));\n      }\n    },\ni>\n    submitInfo() {\n//put tasks in array\n      let allTasks = JSON.parse(localStorage.getItem('tasksList'));\n      let tasksArray = [];\n      if (this.title!==\"\") {\n        for (let i in allTasks)\n          tasksArray.push(allTasks[i]);\n\n//check user in storage\n          let userdata = JSON.parse(localStorage.getItem('Users'));\n          let userArray = [];\n          for (let i in userdata) {\n            userArray.push(userdata[i]); // Users\n          }\n          for (let j in userArray) {\n            if (userArray[j][\"mail\"].includes(this.userMail) && this.userMail !== \"\") {\n//Add task\n              let objTasks = {\n                'task': this.title,\n                'userMail': this.userMail\n              };\n              tasksArray.push(objTasks);\n              localStorage.setItem(\"tasksList\", JSON.stringify(tasksArray));\n              console.log(\"task added\");\n            }\n          }\n      }\n    },\n    onSubmit() {\n      if (this.title.trim(), this.userMail.trim()){\n        const newTodo = {\n          id: Date.now(),\n          title: this.title,\n          userMail: this.userMail,\n          completed: false\n        }\n        console.log(newTodo)\n        this.$emit('add-todo', newTodo)\n        this.title=\"\",\n        this.userMail=\"\"\n      }\n    },\n    progress(){\n\n    }\n  }\n}\n</script>\n\n<style scoped>\nform{\n  display: flex;\n}\ninput{\n  margin-left: 20px;\n  width: 350px;\n}\n</style>"]}]}