{"remainingRequest":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/babel-loader/lib/index.js!/home/user/Desktop/vue-project/vue-spa-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user/Desktop/vue-project/vue-spa-app/src/components/UserPage/AddTodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/user/Desktop/vue-project/vue-spa-app/src/components/UserPage/AddTodo.vue","mtime":1612782992440},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRkVG9kbycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJNYWlsOiAnJywKICAgICAgdGl0bGU6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgdmFyIHRhc2tzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rhc2tzTGlzdCcpOwoKICAgICAgaWYgKCF0YXNrcykgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrc0xpc3QnLCBKU09OLnN0cmluZ2lmeShbewogICAgICAgICAgInRpdGxlIjogInRpdGxlIiwKICAgICAgICAgICJ1c2VyTWFpbCI6ICJ1c2VyTWFpbCIKICAgICAgICB9XSkpOwogICAgICB9CiAgICB9LAogICAgc3VibWl0SW5mbzogZnVuY3Rpb24gc3VibWl0SW5mbygpIHsKICAgICAgLy9wdXQgdGFza3MgaW4gYXJyYXkKICAgICAgdmFyIGFsbFRhc2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGFza3NMaXN0JykpOwogICAgICB2YXIgdGFza3NBcnJheSA9IFtdOwoKICAgICAgaWYgKHRoaXMudGl0bGUgIT09ICIiKSB7CiAgICAgICAgZm9yICh2YXIgaSBpbiBhbGxUYXNrcykgewogICAgICAgICAgdGFza3NBcnJheS5wdXNoKGFsbFRhc2tzW2ldKTsKICAgICAgICB9IC8vY2hlY2sgdXNlciBpbiBzdG9yYWdlCgoKICAgICAgICB2YXIgdXNlcmRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdVc2VycycpKTsKICAgICAgICB2YXIgdXNlckFycmF5ID0gW107CgogICAgICAgIGZvciAodmFyIF9pIGluIHVzZXJkYXRhKSB7CiAgICAgICAgICB1c2VyQXJyYXkucHVzaCh1c2VyZGF0YVtfaV0pOyAvLyBVc2VycwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaiBpbiB1c2VyQXJyYXkpIHsKICAgICAgICAgIGlmICh1c2VyQXJyYXlbal1bIm1haWwiXS5pbmNsdWRlcyh0aGlzLnVzZXJNYWlsKSAmJiB0aGlzLnVzZXJNYWlsICE9PSAiIikgewogICAgICAgICAgICAvL0FkZCB0YXNrCiAgICAgICAgICAgIHZhciBvYmpUYXNrcyA9IHsKICAgICAgICAgICAgICAndGFzayc6IHRoaXMudGl0bGUsCiAgICAgICAgICAgICAgJ3VzZXJNYWlsJzogdGhpcy51c2VyTWFpbAogICAgICAgICAgICB9OwogICAgICAgICAgICB0YXNrc0FycmF5LnB1c2gob2JqVGFza3MpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidGFza3NMaXN0IiwgSlNPTi5zdHJpbmdpZnkodGFza3NBcnJheSkpOwogICAgICAgICAgICBjb25zb2xlLmxvZygidGFzayBhZGRlZCIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgaWYgKHRoaXMudGl0bGUudHJpbSgpLCB0aGlzLnVzZXJNYWlsLnRyaW0oKSkgewogICAgICAgIHZhciBuZXdUb2RvID0gewogICAgICAgICAgaWQ6IERhdGUubm93KCksCiAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICAgIHVzZXJNYWlsOiB0aGlzLnVzZXJNYWlsLAogICAgICAgICAgY29tcGxldGVkOiBmYWxzZQogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2cobmV3VG9kbyk7CiAgICAgICAgdGhpcy4kZW1pdCgnYWRkLXRvZG8nLCBuZXdUb2RvKTsKICAgICAgICB0aGlzLnRpdGxlID0gIiIsIHRoaXMudXNlck1haWwgPSAiIjsKICAgICAgfQogICAgfSwKICAgIHByb2dyZXNzOiBmdW5jdGlvbiBwcm9ncmVzcygpIHt9CiAgfQp9Ow=="},{"version":3,"sources":["AddTodo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAaA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;;AACA,UAAA,CAAA,KAAA,EAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,IAAA,CAAA,SAAA,CAAA,CAAA;AAAA,mBAAA,OAAA;AAAA,sBAAA;AAAA,SAAA,CAAA,CAAA;AACA;AACA,KANA;AAQA,IAAA,UARA,wBAQA;AACA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CAAA;AACA,UAAA,UAAA,GAAA,EAAA;;AACA,UAAA,KAAA,KAAA,KAAA,EAAA,EAAA;AACA,aAAA,IAAA,CAAA,IAAA,QAAA;AACA,UAAA,UAAA,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AADA,SADA,CAIA;;;AACA,YAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;AACA,YAAA,SAAA,GAAA,EAAA;;AACA,aAAA,IAAA,EAAA,IAAA,QAAA,EAAA;AACA,UAAA,SAAA,CAAA,IAAA,CAAA,QAAA,CAAA,EAAA,CAAA,EADA,CACA;AACA;;AACA,aAAA,IAAA,CAAA,IAAA,SAAA,EAAA;AACA,cAAA,SAAA,CAAA,CAAA,CAAA,CAAA,MAAA,EAAA,QAAA,CAAA,KAAA,QAAA,KAAA,KAAA,QAAA,KAAA,EAAA,EAAA;AACA;AACA,gBAAA,QAAA,GAAA;AACA,sBAAA,KAAA,KADA;AAEA,0BAAA,KAAA;AAFA,aAAA;AAIA,YAAA,UAAA,CAAA,IAAA,CAAA,QAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,IAAA,CAAA,SAAA,CAAA,UAAA,CAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AACA;AACA;AACA;AACA,KAnCA;AAoCA,IAAA,QApCA,sBAoCA;AACA,UAAA,KAAA,KAAA,CAAA,IAAA,IAAA,KAAA,QAAA,CAAA,IAAA,EAAA,EAAA;AACA,YAAA,OAAA,GAAA;AACA,UAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EADA;AAEA,UAAA,KAAA,EAAA,KAAA,KAFA;AAGA,UAAA,QAAA,EAAA,KAAA,QAHA;AAIA,UAAA,SAAA,EAAA;AAJA,SAAA;AAMA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,aAAA,KAAA,CAAA,UAAA,EAAA,OAAA;AACA,aAAA,KAAA,GAAA,EAAA,EACA,KAAA,QAAA,GAAA,EADA;AAEA;AACA,KAjDA;AAkDA,IAAA,QAlDA,sBAkDA,CAEA;AApDA;AARA,CAAA","sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n    <input type=\"text\" class=\"form-control\" cc placeholder=\"write a task\">\n    <input type=\"email\" class=\"form-control\" v-model=\"userMail\" placeholder=\"user Email\">\n    <button type=\"submit\"  @click=\"submitInfo()\" class=\"btn btn-success ml-4\">Add Task</button>\n    <button type=\"button\"  @click=\"progress()\" class=\"btn btn-warning ml-4\">\n      <router-link to=\"/UsersProgress\">progress</router-link>\n    </button>\n\n  </form>\n</template>\n\n<script>\nexport default{\n  name: 'AddTodo',\n  data() {\n    return {\n      userMail: '',\n      title: ''\n    }\n  },\n  methods: {\n    mounted() {\n      let tasks = localStorage.getItem('tasksList');\n      if (!tasks) {\n        localStorage.setItem('tasksList',JSON.stringify([{\"title\":\"title\",\"userMail\":\"userMail\"}]));\n      }\n    },\n\n    submitInfo() {\n//put tasks in array\n      let allTasks = JSON.parse(localStorage.getItem('tasksList'));\n      let tasksArray = [];\n      if (this.title!==\"\") {\n        for (let i in allTasks)\n          tasksArray.push(allTasks[i]);\n\n//check user in storage\n          let userdata = JSON.parse(localStorage.getItem('Users'));\n          let userArray = [];\n          for (let i in userdata) {\n            userArray.push(userdata[i]); // Users\n          }\n          for (let j in userArray) {\n            if (userArray[j][\"mail\"].includes(this.userMail) && this.userMail !== \"\") {\n//Add task\n              let objTasks = {\n                'task': this.title,\n                'userMail': this.userMail\n              };\n              tasksArray.push(objTasks);\n              localStorage.setItem(\"tasksList\", JSON.stringify(tasksArray));\n              console.log(\"task added\");\n            }\n          }\n      }\n    },\n    onSubmit() {\n      if (this.title.trim(), this.userMail.trim()){\n        const newTodo = {\n          id: Date.now(),\n          title: this.title,\n          userMail: this.userMail,\n          completed: false\n        }\n        console.log(newTodo)\n        this.$emit('add-todo', newTodo)\n        this.title=\"\",\n        this.userMail=\"\"\n      }\n    },\n    progress(){\n\n    }\n  }\n}\n</script>\n\n<style scoped>\nform{\n  display: flex;\n}\ninput{\n  margin-left: 20px;\n  width: 350px;\n}\n</style>"],"sourceRoot":"src/components/UserPage"}]}