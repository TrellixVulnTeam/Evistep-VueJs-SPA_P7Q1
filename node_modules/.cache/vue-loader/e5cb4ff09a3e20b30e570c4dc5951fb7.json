{"remainingRequest":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user/Desktop/vue-project/vue-spa-app/src/components/UserPage/AddTodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/user/Desktop/vue-project/vue-spa-app/src/components/UserPage/AddTodo.vue","mtime":1612770741981},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0ewogIG5hbWU6ICdBZGRUb2RvJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlck1haWw6ICcnLAogICAgICB0aXRsZTogJycKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG1vdW50ZWQoKSB7CiAgICAgIGxldCB0YXNrcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YXNrc0xpc3QnKTsKICAgICAgaWYgKCF0YXNrcykgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrc0xpc3QnLEpTT04uc3RyaW5naWZ5KFt7InRpdGxlIjoidGl0bGUiLCJ1c2VyTWFpbCI6InVzZXJNYWlsIn1dKSk7CiAgICAgIH0KICAgIH0sCgogICAgc3VibWl0SW5mbygpIHsKLy9wdXQgdGFza3MgaW4gYXJyYXkKICAgICAgbGV0IGFsbFRhc2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGFza3NMaXN0JykpOwogICAgICBsZXQgdGFza3NBcnJheSA9IFtdOwogICAgICBpZiAodGhpcy50aXRsZSE9PSIiKSB7CiAgICAgICAgZm9yIChsZXQgaSBpbiBhbGxUYXNrcykKICAgICAgICAgIHRhc2tzQXJyYXkucHVzaChhbGxUYXNrc1tpXSk7CgovL2NoZWNrIHVzZXIgaW4gc3RvcmFnZQogICAgICAgICAgbGV0IHVzZXJkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnVXNlcnMnKSk7CiAgICAgICAgICBsZXQgdXNlckFycmF5ID0gW107CiAgICAgICAgICBmb3IgKGxldCBpIGluIHVzZXJkYXRhKSB7CiAgICAgICAgICAgIHVzZXJBcnJheS5wdXNoKHVzZXJkYXRhW2ldKTsgLy8gVXNlcnMKICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGogaW4gdXNlckFycmF5KSB7CiAgICAgICAgICAgIGlmICh1c2VyQXJyYXlbal1bIm1haWwiXS5pbmNsdWRlcyh0aGlzLnVzZXJNYWlsKSAmJiB0aGlzLnVzZXJNYWlsICE9PSAiIikgewovL0FkZCB0YXNrCiAgICAgICAgICAgICAgbGV0IG9ialRhc2tzID0gewogICAgICAgICAgICAgICAgJ3Rhc2snOiB0aGlzLnRpdGxlLAogICAgICAgICAgICAgICAgJ3VzZXJNYWlsJzogdGhpcy51c2VyTWFpbAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdGFza3NBcnJheS5wdXNoKG9ialRhc2tzKTsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidGFza3NMaXN0IiwgSlNPTi5zdHJpbmdpZnkodGFza3NBcnJheSkpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ0YXNrIGFkZGVkIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uU3VibWl0KCkgewogICAgICBpZiAodGhpcy50aXRsZS50cmltKCkpewogICAgICAgIGNvbnN0IG5ld1RvZG8gPSB7CiAgICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgICAgdXNlck1haWw6IHRoaXMudXNlck1haWwsCiAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlCiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKG5ld1RvZG8pCiAgICAgICAgdGhpcy4kZW1pdCgnYWRkLXRvZG8nLCBuZXdUb2RvKQogICAgICAgIHRoaXMudGl0bGU9IiIsCiAgICAgICAgdGhpcy51c2VyTWFpbD0iIgogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["AddTodo.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddTodo.vue","sourceRoot":"src/components/UserPage","sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n    <input type=\"text\" class=\"form-control\" v-model=\"title\" placeholder=\"write a task\">\n    <input type=\"email\" class=\"form-control\" v-model=\"userMail\" placeholder=\"user Email\">\n    <button type=\"submit\"  @click=\"submitInfo()\" class=\"btn btn-success ml-4\">Add Task</button>\n  </form>\n</template>\n\n<script>\nexport default{\n  name: 'AddTodo',\n  data() {\n    return {\n      userMail: '',\n      title: ''\n    }\n  },\n  methods: {\n    mounted() {\n      let tasks = localStorage.getItem('tasksList');\n      if (!tasks) {\n        localStorage.setItem('tasksList',JSON.stringify([{\"title\":\"title\",\"userMail\":\"userMail\"}]));\n      }\n    },\n\n    submitInfo() {\n//put tasks in array\n      let allTasks = JSON.parse(localStorage.getItem('tasksList'));\n      let tasksArray = [];\n      if (this.title!==\"\") {\n        for (let i in allTasks)\n          tasksArray.push(allTasks[i]);\n\n//check user in storage\n          let userdata = JSON.parse(localStorage.getItem('Users'));\n          let userArray = [];\n          for (let i in userdata) {\n            userArray.push(userdata[i]); // Users\n          }\n          for (let j in userArray) {\n            if (userArray[j][\"mail\"].includes(this.userMail) && this.userMail !== \"\") {\n//Add task\n              let objTasks = {\n                'task': this.title,\n                'userMail': this.userMail\n              };\n              tasksArray.push(objTasks);\n              localStorage.setItem(\"tasksList\", JSON.stringify(tasksArray));\n              console.log(\"task added\");\n            }\n          }\n      }\n    },\n    onSubmit() {\n      if (this.title.trim()){\n        const newTodo = {\n          id: Date.now(),\n          title: this.title,\n          userMail: this.userMail,\n          completed: false\n        }\n        console.log(newTodo)\n        this.$emit('add-todo', newTodo)\n        this.title=\"\",\n        this.userMail=\"\"\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\nform{\n  display: flex;\n}\ninput{\n  margin-left: 20px;\n  width: 350px;\n}\n</style>"]}]}