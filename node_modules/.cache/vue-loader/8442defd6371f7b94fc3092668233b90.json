{"remainingRequest":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user/Desktop/vue-project/vue-spa-app/src/components/UserPage/AddTodo.vue?vue&type=style&index=0&id=65c8cb82&scoped=true&lang=css&","dependencies":[{"path":"/home/user/Desktop/vue-project/vue-spa-app/src/components/UserPage/AddTodo.vue","mtime":1612795164758},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Desktop/vue-project/vue-spa-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmZvcm17CiAgZGlzcGxheTogZmxleDsKfQppbnB1dHsKICBtYXJnaW4tbGVmdDogMjBweDsKICB3aWR0aDogMzUwcHg7Cn0K"},{"version":3,"sources":["AddTodo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddTodo.vue","sourceRoot":"src/components/UserPage","sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n    <input type=\"text\" class=\"form-control\" cc placeholder=\"write a task\">\n    <input type=\"email\" class=\"form-control\" v-model=\"userMail\" placeholder=\"user Email\">\n    <button type=\"submit\"  @click=\"submitInfo()\" class=\"btn btn-success ml-4\">Add Task</button>\n    <button type=\"button\"  @click=\"progress()\" class=\"btn btn-warning ml-4\">\n      <router-link to=\"/UsersProgress\">progress</router-link>\n    </button>\n\n  </form>\n</template>\n\n<script>\nexport default{\n  name: 'AddTodo',\n  data() {\n    return {\n      userMail: '',\n      title: ''\n    }\n  },\n  methods: {\n    mounted() {\n      let tasks = localStorage.getItem('tasksList');\n      if (!tasks) {\n        localStorage.setItem('tasksList',JSON.stringify([{\"title\":\"title\",\"userMail\":\"userMail\"}]));\n      }\n    },\ni>\n    submitInfo() {\n//put tasks in array\n      let allTasks = JSON.parse(localStorage.getItem('tasksList'));\n      let tasksArray = [];\n      if (this.title!==\"\") {\n        for (let i in allTasks)\n          tasksArray.push(allTasks[i]);\n\n//check user in storage\n          let userdata = JSON.parse(localStorage.getItem('Users'));\n          let userArray = [];\n          for (let i in userdata) {\n            userArray.push(userdata[i]); // Users\n          }\n          for (let j in userArray) {\n            if (userArray[j][\"mail\"].includes(this.userMail) && this.userMail !== \"\") {\n//Add task\n              let objTasks = {\n                'task': this.title,\n                'userMail': this.userMail\n              };\n              tasksArray.push(objTasks);\n              localStorage.setItem(\"tasksList\", JSON.stringify(tasksArray));\n              console.log(\"task added\");\n            }\n          }\n      }\n    },\n    onSubmit() {\n      if (this.title.trim(), this.userMail.trim()){\n        const newTodo = {\n          id: Date.now(),\n          title: this.title,\n          userMail: this.userMail,\n          completed: false\n        }\n        console.log(newTodo)\n        this.$emit('add-todo', newTodo)\n        this.title=\"\",\n        this.userMail=\"\"\n      }\n    },\n    progress(){\n\n    }\n  }\n}\n</script>\n\n<style scoped>\nform{\n  display: flex;\n}\ninput{\n  margin-left: 20px;\n  width: 350px;\n}\n</style>"]}]}